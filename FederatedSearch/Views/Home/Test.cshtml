@using FederatedSearch.Controllers
@{
    ViewBag.Title = "Test";
    string baseLocalUrl = Common.GetBaseUrl(Html.ViewContext.RequestContext.HttpContext);
}

<h2>Test</h2>

<div id="mainTest">
    <p>Regex: </p>
    <input type="text" name="regex" />
    <p>Value: </p>
    <input type="text" name="value" />

    <button type="button" onclick="regexTest()">Check</button>
    <button type="button" onclick="combineTest()">Combine</button>

    <div id="result"></div>
</div>

<script type="text/javascript">
    function succRegex(data) {
        $('#result').text(data.result);
    }

    function regexTest() {
        var regex = $('input[name="regex"]').val();
        var value = $('input[name="value"]').val();
        jsonRequest(
            '@baseLocalUrl/Home/Test/regex',
                    JSON.stringify({
                        regex: $('input[name="regex"]').val(),
                        value: $('input[name="value"]').val()
                    })
                ).done(succRegex);
    }

    function combineTest() {
        var regex = $('input[name="regex"]').val();
        var value = $('input[name="value"]').val();
        jsonRequest(
            '@baseLocalUrl/Home/Test/combine',
                    JSON.stringify({
                        regex: $('input[name="regex"]').val(),
                        value: $('input[name="value"]').val()
                    })
                ).done(succRegex);
    }
</script>

<script src="@Url.Content("~/Scripts/CommonOAI.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>
